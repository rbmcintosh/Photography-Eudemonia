# minify-images

Dead simply script to minify images with node utilizing [imagemin](https://github.com/imagemin/imagemin/).

![Travis branch](https://img.shields.io/travis/nielse63/minify-images/master.svg?style=flat-square)
![Code Climate](https://img.shields.io/codeclimate/github/nielse63/minify-images.svg?style=flat-square)
![Coveralls](https://img.shields.io/coveralls/nielse63/minify-images.svg?style=flat-square)
![David Dependencies](https://img.shields.io/david/nielse63/minify-images.svg?style=flat-square)
![David Dev-Dependencies](https://img.shields.io/david/dev/nielse63/minify-images.svg?style=flat-square)

## Installation

```
yarn add minify-images --dev
```

## Usage

```
import minify from 'minify-images'

minify.compress({
  src: 'path/to/input/*',
  dest: 'path/to/output',
}).then(files => {
  files.should.exist
}).catch(error => {
  throw error
})
```

The `src` option accepts [globbing patterns](https://github.com/isaacs/minimatch#usage).

## API

### minify([options])

Returns a promise for an array of output file path strings.

#### options

Type: `Object`

An object containing options.

#### options.src

Type: `string`

Default: `'./src/**/*.{jpg|png|svg|jpeg}'`

Path the source image files. Can be a file, directory, or any globbing pattern.

#### options.dest

Type: `string`

Default: `'./dist'`

The path to place the output files.

#### options.jpg

Type: `Object`

Default:

```
{
  quality: '90',
}
```

Options passed to [mozjpeg](https://www.npmjs.com/package/imagemin-mozjpeg#api).

#### options.png

Type: `Object`

Default:

```
{
  quality: '65-80',
  speed: 4,
}
```

Options passed to [pngquant](https://www.npmjs.com/package/imagemin-pngquant#api).

#### options.svg

Type: `Object`

Default:

```
{
  plugins: [{
    removeTitle: true,
    removeDesc: true,
    removeXMLNS: true,
  }],
}
```

Options passerd to [svgo](https://www.npmjs.com/package/imagemin-svgo#api).

## Tests

```
git clone https://github.com/nielse63/minify-images.git
cd minify-images
yarn install
yarn test
```

## License

MIT @ [Erik Nielsen](https://312development.com)
